% Latex page style for basic reports
%
% by Miguel Telleria
%
%
% ---------------------------------------------------------------

% ------------------------
% Page format
% ------------------------

%\RequirePackage[english]{isodate} % Allows to customise the today message

% Time and metadata
%\RequirePackage{scrtime} % To get the current time with \thistime{}
%\RequirePackage{scrdate} % To get the current time with \thistime{}
%\RequirePackage{substr} % to be used by isodate
%\RequirePackage{fink} % Allows to print the filename.

\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{extramarks}

\RequirePackage{lastpage} % This package places a reference at the end of
                      % the document and should be included last.
\RequirePackage{titling} % To have \thetitle and enhacements for \maketitle

% Page margins
% ------------
\geometry{ a4paper, top=1in, bottom=1in, left=1in, right=1in,
  includemp = false}
\geometry{  headheight = 0.25in, headsep = 0.1in, footskip= 0.30in}

% Header and footer styles for the first page
% (when no \maketitle or \chapter is used)
% -------------------------------------------
\fancypagestyle{firstpage}{%
\fancyhf{} % Clearing headers and footers
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
%\fancyfoot[LRC]{\finkfile{} \hfill Page \thepage{} of \pageref{LastPage}}
\fancyfoot[LRC]{ \hfill Page \thepage{} of \pageref{LastPage}}
}

% Header and footer styles for the plain page
% (for \maketitle and \chapter)
% -------------------------------------------
\fancypagestyle{plain}{%
\fancyhf{} % Clearing headers and footers
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
%\fancyfoot[LRC]{\finkfile{} \hfill Page \thepage{} of \pageref{LastPage}}
\fancyfoot[LRC]{ \hfill Page \thepage{} of \pageref{LastPage}}
}




% Header and footer styles for the following pages
% ------------------------------------------------
\fancypagestyle{followingpage}{%
\fancyhf{} % Clearing headers and footers
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\fancyhead[LRC]{\hfill \nouppercase\firstleftmark}
%\fancyfoot[LRC]{\finkfile{} \hfill Page \thepage{} of \pageref{LastPage} } }
\fancyfoot[LRC]{\thetitle \hfill Page \thepage{} of \pageref{LastPage} } }

% Now we place them
% -----------------
\pagestyle{followingpage}
\AtBeginDocument{\thispagestyle{firstpage}}


% Indentation and Interparagraph space
% ------------------------------------
\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}
\setlength{\parindent}{0pt}

% Windows and orphans
% Tip from:
% http://en.wikibooks.org/wiki/LaTeX/Page_Layout#Widows_and_orphans
% -----------------------------------------------------------------
\widowpenalty=300
\clubpenalty=300


% Multicolumn balance
% -------------------
%\RequirePackage{flushend} % so last columns end balanced



% Meta-info to be placed in the document header
% Based on Hopka's book C.3.2 example
% We use * versions of (re)newcommand to force the arguments be in the
% same line or paragraph.
% ---------------------------------------------------------------------
\newcommand*{\DocTitle}[1] {\renewcommand*{\DH@title}{#1}}
\newcommand*{\DocDate}[1] {\renewcommand*{\DH@date}{#1}}
\newcommand*{\DocNumber}[1] {\renewcommand*{\DH@number}{\MakeUppercase{#1}}}
%\newcommand*{\DocNumber}[1] {\renewcommand*{\DH@Number}{#1}}
\newcommand*{\DocVersion}[1] {\renewcommand*{\DH@version}{#1}}

\newcommand*{\DH@title}{}
\newcommand*{\DH@date}{}
\newcommand*{\DH@number}{}
\newcommand*{\DH@version}{}


